// ──────────────────────────────────────────────
// supplements.ts — Интегративный нутрицевтический
// протокол восстановления после ORIF локтевого сустава
// Обновлено: расширенный список (32 позиции)
// Подход: восстановление + митохондриальная поддержка +
//         адаптогены + ноотропы + антиоксиданты
// ──────────────────────────────────────────────

export interface Supplement {
  id: string
  name: string
  dose: string
  timing: string
  slot: 'fasting' | 'breakfast' | 'lunch' | 'dinner' | 'bedtime'
  priority: 1 | 2 | 3
  category: 'mineral' | 'vitamin' | 'protein' | 'fatty_acid' | 'compound' | 'herb' | 'aminoacid'
  reason: string
  roleDetailed: string
  form?: string
  note?: string
  interactions?: string[]
  testMarker?: string
  targetLevel?: string
  idealTimeFrom?: string   // e.g. "06:00"
  idealTimeTo?: string     // e.g. "07:30"
  idealNote?: string       // e.g. "За 30 мин до завтрака"
}

export const supplements: Supplement[] = [

  // ───────────────────────────────────────────
  // Натощак (06:30) — кишечное всасывание, пустой желудок
  // ───────────────────────────────────────────
  {
    id: 'sup_collagen',
    name: 'Коллаген',
    dose: '10–15 г',
    timing: '06:30 натощак',
    slot: 'fasting',
    priority: 1,
    category: 'protein',
    reason:
      'Основной строительный белок соединительной ткани. Приём натощак повышает биодоступность для связок и хряща.',
    roleDetailed:
      'Кость на 30% состоит из коллагена I типа. Гидролизат содержит пептиды пролина и глицина — строительные блоки. Принимать с витамином C (кофактор гидроксилирования).',
    form: 'Гидролизат коллагена I и III типа (порошок)',
    note: 'Принимать за 30–60 минут до еды. Обязательно вместе с витамином C для синтеза.',
    interactions: ['Принимать за 30-60 мин до еды', 'Обязательно с витамином C'],
    idealTimeFrom: '06:00',
    idealTimeTo: '07:00',
    idealNote: 'Натощак, за 30–60 мин до еды',
  },
  {
    id: 'sup_vitc_fasting',
    name: 'Витамин C',
    dose: '500 мг',
    timing: '06:30 натощак',
    slot: 'fasting',
    priority: 1,
    category: 'vitamin',
    reason:
      'Кофактор синтеза коллагена. Без витамина C коллаген не встраивается в ткани.',
    roleDetailed:
      'Без витамина C невозможно гидроксилирование пролина и лизина — ключевой этап формирования зрелого коллагена.',
    form: 'Аскорбат кальция или Ester-C',
    note: 'Принимать одновременно с коллагеном.',
    interactions: ['Принимать вместе с коллагеном'],
    idealTimeFrom: '06:00',
    idealTimeTo: '07:00',
    idealNote: 'Натощак, за 30–60 мин до еды',
  },
  {
    id: 'sup_coq10',
    name: 'CoQ10 (убихинол)',
    dose: '100–200 мг',
    timing: '06:30 натощак',
    slot: 'fasting',
    priority: 2,
    category: 'compound',
    reason:
      'Митохондриальный кофактор — производство АТФ. Критичен после травмы для клеточного восстановления. Мощный антиоксидант.',
    roleDetailed:
      'Участвует в цепи переноса электронов митохондрий. При ORIF нарушается митохондриальная функция — CoQ10 ускоряет восстановление. Убихинол (восстановленная форма) на 3× лучше усваивается у людей старше 30 лет. Синергия с L-карнитином образует митохондриальный стек.',
    form: 'Убихинол (восстановленная форма QH) в мягких желатиновых капсулах',
    note: 'Принимать натощак или с минимальным количеством жира. Убихинол предпочтительнее убихинона.',
    interactions: [
      'Синергия с L-карнитином (митохондриальный стек)',
      'Синергия с PQQ (митохондриальный биогенез)',
    ],
    idealTimeFrom: '06:00',
    idealTimeTo: '07:00',
    idealNote: 'Натощак или за 30 мин до еды',
  },
  {
    id: 'sup_lcarnitine',
    name: 'L-Карнитин',
    dose: '500 мг',
    timing: '06:30 натощак',
    slot: 'fasting',
    priority: 2,
    category: 'aminoacid',
    reason:
      'Транспортирует жирные кислоты в митохондрии. Улучшает энергетический метаболизм. Снижает мышечный катаболизм при вынужденном ограничении нагрузки.',
    roleDetailed:
      'Переносит длинноцепочечные жирные кислоты через митохондриальную мембрану для β-окисления. Синтезируется из лизина и метионина. При ограниченной активности после операции предотвращает атрофию мышц. Ускоряет выведение молочной кислоты.',
    form: 'L-Карнитин L-Тартрат (наилучшая биодоступность)',
    note: 'Принимать натощак — максимальное усвоение.',
    interactions: [
      'Синергия с CoQ10 (митохондриальный стек)',
      'Принимать натощак',
    ],
    idealTimeFrom: '06:00',
    idealTimeTo: '07:00',
    idealNote: 'Натощак, вместе с CoQ10',
  },
  {
    id: 'sup_pqq',
    name: 'PQQ',
    dose: '20 мг',
    timing: '06:30 натощак',
    slot: 'fasting',
    priority: 3,
    category: 'compound',
    reason:
      'Стимулирует митохондриальный биогенез — появление новых митохондрий. Нейропротектор. Синергия с CoQ10.',
    roleDetailed:
      'Пирролохинолинхинон активирует PGC-1α — главный регулятор митохондриального биогенеза. Уникальный редокс-кофактор. Поддерживает нейропластичность. Особенно важен в первые недели после операции для ускоренного восстановления клеток.',
    form: 'PQQ натриевая соль (BioPQQ — клинически исследованная форма)',
    note: 'Принимать натощак вместе с CoQ10 и L-карнитином.',
    interactions: [
      'Синергия с CoQ10 (митохондриальный стек)',
      'Принимать натощак',
    ],
    idealTimeFrom: '06:00',
    idealTimeTo: '07:00',
    idealNote: 'Натощак, часть митохондриального стека',
  },

  // ───────────────────────────────────────────
  // Завтрак (07:30) — жирорастворимые, мультивитамины
  // ───────────────────────────────────────────
  {
    id: 'sup_adam',
    name: 'Adam by Now Foods',
    dose: '2 таблетки',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 1,
    category: 'vitamin',
    reason:
      'Комплексный мужской мультивитамин с ферментами и пробиотиками. Заполняет микронутриентные пробелы, обеспечивает базу для всех метаболических процессов восстановления.',
    roleDetailed:
      'Специально для мужчин — без железа (снижает оксидативный стресс). Включает базовую дозу B-комплекса, цинка, хрома, ликопина. Содержит пробиотики и пищеварительные ферменты для лучшего усвоения нутриентов. Заменяет OptiMan — более интегративный и чистый состав.',
    form: 'Now Foods Adam Superior Men\'s Multi (таблетки), 2 в день с едой',
    note: 'Принимать с завтраком для лучшей переносимости. Встроенный цинк — учитывать при суммарном расчёте.',
    interactions: [
      'С завтраком (жирорастворимые витамины лучше усваиваются)',
      'Не дублировать изолированный цинк без расчёта',
    ],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_d3',
    name: 'Витамин D3',
    dose: '4000–5000 МЕ',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 1,
    category: 'vitamin',
    reason:
      'Регулирует усвоение кальция и фосфора. Критичен для минерализации костной мозоли после перелома.',
    roleDetailed:
      'Активирует абсорбцию кальция в кишечнике, стимулирует остеобласты, регулирует ПТГ. Московская зима = дефицит >80% населения.',
    form: 'Холекальциферол в масляной форме (капли или капсулы)',
    note: 'Принимать с жирной пищей для лучшего усвоения. Контроль уровня 25(OH)D каждые 3 месяца.',
    interactions: ['С жирной пищей', 'Синергия с K2'],
    testMarker: '25-OH Vitamin D',
    targetLevel: '40-60 нг/мл',
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_k2',
    name: 'Витамин K2 (MK-7)',
    dose: '100–200 мкг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 1,
    category: 'vitamin',
    reason:
      'Направляет кальций в кости, предотвращая отложение в сосудах. Синергия с D3.',
    roleDetailed:
      'Без K2 кальций может откладываться в сосудах вместо костей. Активирует остеокальцин.',
    form: 'Менахинон-7 (MK-7)',
    note: 'Обязательный компаньон D3. При приёме антикоагулянтов — согласовать с врачом.',
    interactions: ['С витамином D3 и жирной пищей'],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_omega3_am',
    name: 'Омега-3',
    dose: '1–1.5 г (EPA+DHA)',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 1,
    category: 'fatty_acid',
    reason:
      'Противовоспалительное действие. Уменьшает послеоперационный отёк и боль.',
    roleDetailed:
      'Снижает продукцию провоспалительных цитокинов, которые замедляют костное сращение. EPA конвертируется в резолвины.',
    form: 'Рыбий жир в триглицеридной форме (капсулы)',
    note: 'Важно содержание EPA >= 600 мг и DHA >= 400 мг на порцию.',
    interactions: ['С жирной пищей', 'Вторая доза в обед'],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_calcium_am',
    name: 'Кальций',
    dose: '500 мг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 1,
    category: 'mineral',
    reason:
      'Основной минерал костной ткани. Разделённый приём (2 x 500 мг) повышает усвоение.',
    roleDetailed:
      'Основной минерал кости (гидроксиапатит). Не более 500 мг за раз — абсорбция падает. Цитрат лучше карбоната.',
    form: 'Цитрат кальция (лучше усваивается, чем карбонат)',
    note: 'Не принимать одновременно с железом или цинком — конкурируют за транспорт.',
    interactions: ['НЕ с Остеогеноном (разнести на 2 часа)', 'НЕ с цинком'],
    testMarker: 'Кальций ионизированный',
    targetLevel: '1.12-1.32 ммоль/л',
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_osteogenon_am',
    name: 'Остеогенон',
    dose: '1 таблетка (830 мг)',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 2,
    category: 'compound',
    reason:
      'Оссеин-гидроксиапатитный комплекс. Содержит органическую и минеральную фракции кости, стимулирует остеобласты.',
    roleDetailed:
      'Содержит органический (оссеин) и минеральный (гидроксиапатит) компоненты кости.',
    form: 'Таблетки',
    note: 'Назначение врача. Курс обычно 3–6 месяцев.',
    interactions: ['Разнести с чистым кальцием на 2 часа'],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_b6',
    name: 'Витамин B6',
    dose: '25 мг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 2,
    category: 'vitamin',
    reason:
      'Участвует в синтезе коллагена и метаболизме аминокислот. Поддерживает нервную проводимость (важно при послеоперационном онемении).',
    roleDetailed:
      'Участвует в трансаминировании аминокислот, необходимых для коллагена. Поддерживает иммунную функцию.',
    form: 'Пиридоксин гидрохлорид или P-5-P (активная форма)',
    interactions: [],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_astaxanthin',
    name: 'Астаксантин',
    dose: '4–8 мг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 2,
    category: 'compound',
    reason:
      'Самый мощный жирорастворимый антиоксидант. Снижает воспаление в суставах и мягких тканях без побочных эффектов НПВС.',
    roleDetailed:
      'Каротиноид из Haematococcus pluvialis. По антиоксидантному эффекту превосходит витамин C в тысячи раз. Жирорастворим — принимать с жирной пищей. Проникает через гематоэнцефалический барьер. Снижает уровень IL-6, TNF-α. Синергия с Омега-3.',
    form: 'Натуральный астаксантин из Haematococcus pluvialis (мягкие желатиновые капсулы)',
    note: 'Принимать исключительно с жирной пищей — жирорастворимый.',
    interactions: [
      'С жирной пищей (обязательно для абсорбции)',
      'Синергия с Омега-3 (противовоспалительный синергизм)',
    ],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_lions_mane',
    name: 'Lion\'s Mane (Гриб Льва)',
    dose: '500–1000 мг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 2,
    category: 'herb',
    reason:
      'Стимулирует синтез NGF (фактора роста нервов). Ускоряет восстановление чувствительности и моторного контроля после хирургии.',
    roleDetailed:
      'Содержит гериценоны и эринацины — стимуляторы NGF и BDNF. Улучшает нейропластичность. Снижает нейропатическую боль. Дополнительно улучшает когнитивные функции и концентрацию во время реабилитации. Синергия с Родиолой в адаптогенном стеке.',
    form: 'Hericium erinaceus, экстракт 8:1, full-spectrum (плодовое тело + мицелий)',
    note: 'Принимать утром — максимальный когнитивный эффект в первой половине дня.',
    interactions: [
      'Синергия с Родиолой (нейро-адаптогенный стек)',
      'Синергия с 7 Mushroom Complex',
    ],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_rhodiola',
    name: 'Родиола розовая',
    dose: '200–400 мг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 2,
    category: 'herb',
    reason:
      'Адаптоген — снижает кортизол, повышает стрессоустойчивость. Хирургический стресс → высокий кортизол → катаболизм. Родиола сохраняет анаболическое окружение.',
    roleDetailed:
      'Содержит розавины и салидрозид. Адаптирует ось ГГН (HPA axis). Снижает воспалительные маркеры. Улучшает выносливость при ЛФК. Антидепрессивный эффект — важен при длительной реабилитации (риск депрессии высок). Экстракт 3% розавины, 1% салидрозид.',
    form: 'Rhodiola rosea, стандартизированный экстракт (3% розавины, 1% салидрозид)',
    note: 'Начинать с 200 мг. Принимать до 16:00 — стимулирующий эффект. Не принимать при биполярном расстройстве.',
    interactions: [
      'Принимать утром или в обед — не вечером (стимулирует)',
      'Синергия с Lion\'s Mane (нейро-адаптогенный стек)',
    ],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },
  {
    id: 'sup_boron',
    name: 'Бор',
    dose: '3 мг',
    timing: '07:30 с завтраком',
    slot: 'breakfast',
    priority: 3,
    category: 'mineral',
    reason:
      'Микроэлемент, улучшающий метаболизм кальция, магния и витамина D. Поддерживает плотность костной ткани.',
    roleDetailed:
      'Усиливает действие витамина D, улучшает утилизацию кальция и магния, поддерживает уровень свободного тестостерона.',
    form: 'Борат натрия или борглюконат кальция',
    interactions: [],
    idealTimeFrom: '07:30',
    idealTimeTo: '08:30',
    idealNote: 'Во время или сразу после завтрака',
  },

  // ───────────────────────────────────────────
  // Обед (13:00) — суставные, противовоспалительные
  // ───────────────────────────────────────────
  {
    id: 'sup_calcium_pm',
    name: 'Кальций',
    dose: '500 мг',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 1,
    category: 'mineral',
    reason:
      'Вторая порция кальция. Разделение на 2 приёма обеспечивает равномерное усвоение в течение дня.',
    roleDetailed:
      'Разделение дозы на 2 приёма повышает общую абсорбцию.',
    form: 'Цитрат кальция',
    interactions: ['С едой'],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда',
  },
  {
    id: 'sup_vitc_lunch',
    name: 'Витамин C',
    dose: '500 мг',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 2,
    category: 'vitamin',
    reason:
      'Вторая порция для поддержания постоянного уровня (витамин C водорастворим, быстро выводится).',
    roleDetailed:
      'Витамин C водорастворимый — выводится за 4-6 часов. Разделение на 2 приёма поддерживает постоянный уровень.',
    form: 'Аскорбат кальция или Ester-C',
    interactions: [],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда',
  },
  {
    id: 'sup_omega3_pm',
    name: 'Омега-3',
    dose: '1–1.5 г (EPA+DHA)',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 2,
    category: 'fatty_acid',
    reason:
      'Вторая порция для поддержания противовоспалительного фона в течение дня.',
    roleDetailed:
      'Разделение на 2 приёма для лучшей абсорбции и постоянного противовоспалительного эффекта.',
    form: 'Рыбий жир в триглицеридной форме (капсулы)',
    interactions: ['С едой'],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда',
  },
  {
    id: 'sup_msm',
    name: 'МСМ (метилсульфонилметан)',
    dose: '2–3 г',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 1,
    category: 'compound',
    reason:
      'Органическая сера — кофактор синтеза коллагена и хряща. Снижает воспаление в суставах. Клинически доказан для улучшения ROM.',
    roleDetailed:
      'МСМ — источник биодоступной органической серы. Кофактор синтеза глутатиона. Клинические исследования: снижение боли в суставах на 25-30%. Синергия с коллагеном — усиливает его встраивание в ткань. Важен для восстановления хрящевой поверхности локтя.',
    form: 'OptiMSM (чистота 99.9%), порошок или капсулы',
    note: 'Принимать с едой для лучшей переносимости ЖКТ.',
    interactions: [
      'С едой',
      'Синергия с коллагеном и витамином C',
      'Синергия с куркумином (противовоспалительный стек)',
    ],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда',
  },
  {
    id: 'sup_curcumin',
    name: 'Куркумин + Пиперин',
    dose: '500–1000 мг',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 1,
    category: 'herb',
    reason:
      'Мощный натуральный противовоспалительный агент. Ингибирует NF-κB — главный транскрипционный фактор воспаления. Потенциальная замена/дополнение к НПВС.',
    roleDetailed:
      'Куркумин + биоперин (пиперин): биодоступность вырастает на 2000%. Ингибирует ЦОГ-1, ЦОГ-2, 5-ЛОГ. Снижает TNF-α и IL-6. Без пиперина биодоступность крайне низкая. Принимать с жирной пищей — липофильный.',
    form: 'Куркумин с пиперином (Bioperine) или BCM-95/липосомальный куркумин',
    note: 'Без пиперина — биодоступность < 1%. Принимать с жирной пищей.',
    interactions: [
      'С едой и жирами (липофильный)',
      'Обязательно с пиперином (биоперин)',
      'Синергия с МСМ и Омега-3 (противовоспалительный стек)',
    ],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда с жирной пищей',
  },
  {
    id: 'sup_glutathione',
    name: 'Глутатион восстановленный',
    dose: '250 мг',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 2,
    category: 'compound',
    reason:
      'Главный внутриклеточный антиоксидант. После операции нарастает оксидативный стресс. Глутатион нейтрализует свободные радикалы, защищая ткани при регенерации.',
    roleDetailed:
      'Трипептид из глутамата, цистеина и глицина. Детоксификация в печени. Поддерживает иммунную функцию. Синергия с витамином C и NAC (N-ацетилцистеин — предшественник). S-ацетилглутатион или липосомальная форма — лучшая биодоступность.',
    form: 'S-ацетил-L-глутатион или липосомальный (лучше обычного восстановленного)',
    note: 'Обычный L-глутатион плохо усваивается перорально. Выбирать S-ацетил или липосомальную форму.',
    interactions: [
      'Синергия с витамином C и CoQ10',
      'Синергия с астаксантином (антиоксидантный стек)',
    ],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда',
  },
  {
    id: 'sup_7mushroom',
    name: '7 Mushroom Complex',
    dose: '500–1000 мг',
    timing: '13:00 с обедом',
    slot: 'lunch',
    priority: 3,
    category: 'herb',
    reason:
      'Комплекс функциональных грибов (Рейши, Шиитаке, Мейтаке и др.) — иммуномодулятор, адаптоген, антиоксидант.',
    roleDetailed:
      'Содержит β-глюканы (иммуностимуляция), тритерпены Рейши (противовоспаление), полисахариды. Поддерживает ЖКТ-микробиому. Комплексная иммунная поддержка в период длительного восстановления.',
    form: 'Full-spectrum экстракт 7 видов грибов (8:1), плодовые тела',
    note: 'С осторожностью при аутоиммунных заболеваниях.',
    interactions: [
      'Синергия с Lion\'s Mane (грибной ноотропный стек)',
    ],
    idealTimeFrom: '12:00',
    idealTimeTo: '13:30',
    idealNote: 'Во время обеда',
  },

  // ───────────────────────────────────────────
  // Ужин (19:00) — минералы, вечерние
  // ───────────────────────────────────────────
  {
    id: 'sup_zinc',
    name: 'Цинк',
    dose: '25–30 мг',
    timing: '19:00 с ужином',
    slot: 'dinner',
    priority: 2,
    category: 'mineral',
    reason:
      'Критичен для заживления ран и синтеза коллагена. Участвует в работе 300+ ферментов.',
    roleDetailed:
      'Кофактор синтеза тестостерона. Кофактор щелочной фосфатазы (фермент минерализации). НЕ натощак (тошнота).',
    form: 'Цинк бисглицинат (хелатная форма, минимум побочек для ЖКТ)',
    note: 'Принимать отдельно от кальция (разнесены по времени — утро и вечер).',
    interactions: [
      'НЕ натощак',
      'НЕ одновременно с кальцием',
      'При дозе >30 мг — добавить медь (sup_copper)',
    ],
    testMarker: 'Цинк сыворотки',
    targetLevel: '11-23 мкмоль/л',
    idealTimeFrom: '18:00',
    idealTimeTo: '20:00',
    idealNote: 'Во время ужина',
  },
  {
    id: 'sup_copper',
    name: 'Медь (Copper)',
    dose: '1–2 мг',
    timing: '19:00 с ужином',
    slot: 'dinner',
    priority: 2,
    category: 'mineral',
    reason:
      'Кофактор лизилоксидазы — фермента, сшивающего коллаген и эластин. Обязателен при приёме цинка >25 мг (цинк вытесняет медь).',
    roleDetailed:
      'Медь и цинк — антагонисты при высоких дозах цинка. Кофактор СОД (супероксиддисмутаза) — антиоксидантный фермент. Участвует в синтезе гемоглобина и коллагена. Соотношение Zn:Cu должно быть 8-15:1.',
    form: 'Бисглицинат меди (хелатная форма, минимальные побочные эффекты)',
    note: 'НЕ превышать 3 мг/день. Принимать вместе с цинком в ужин.',
    interactions: [
      'Баланс с цинком (Zn:Cu = 8-15:1)',
      'Принимать вместе с ужином',
      'НЕ превышать 3 мг/день',
    ],
    idealTimeFrom: '18:00',
    idealTimeTo: '20:00',
    idealNote: 'Во время ужина вместе с цинком',
  },
  {
    id: 'sup_osteogenon_pm',
    name: 'Остеогенон',
    dose: '1 таблетка (830 мг)',
    timing: '19:00 с ужином',
    slot: 'dinner',
    priority: 2,
    category: 'compound',
    reason:
      'Вторая порция оссеин-гидроксиапатитного комплекса для поддержания остеогенеза.',
    roleDetailed:
      'Вечерний приём обеспечивает субстрат для ночной костной репарации.',
    form: 'Таблетки',
    interactions: [],
    idealTimeFrom: '18:00',
    idealTimeTo: '20:00',
    idealNote: 'Во время ужина',
  },
  {
    id: 'sup_silicon',
    name: 'Кремний',
    dose: '5–10 мг',
    timing: '19:00 с ужином',
    slot: 'dinner',
    priority: 3,
    category: 'mineral',
    reason:
      'Участвует в формировании коллагенового матрикса кости. Улучшает прочность соединительной ткани.',
    roleDetailed:
      'Стимулирует синтез коллагена I типа, участвует в cross-linking коллагеновых волокон.',
    form: 'Ортокремниевая кислота (жидкая форма) или холин-стабилизированная',
    interactions: [],
    idealTimeFrom: '18:00',
    idealTimeTo: '20:00',
    idealNote: 'Во время ужина',
  },

  // ───────────────────────────────────────────
  // Перед сном (22:00) — сон, нейроэндокрин, ночная репарация
  // ───────────────────────────────────────────
  {
    id: 'sup_magnesium',
    name: 'Магний',
    dose: '300–400 мг',
    timing: '22:00 перед сном',
    slot: 'bedtime',
    priority: 1,
    category: 'mineral',
    reason:
      'Расслабляет мышцы, улучшает сон, участвует в минерализации кости. Приём на ночь оптимален для GH-стимулирующего эффекта.',
    roleDetailed:
      'Расслабляет мускулатуру. Кофактор >300 ферментов. Участвует в минерализации кости. Улучшает качество сна → больше ГР.',
    form: 'Магний бисглицинат или магний L-треонат',
    note: 'Бисглицинат — для мышц и сна. L-треонат — дополнительно для нервной системы. Не совмещать с кальцием.',
    interactions: [
      'Перед сном',
      'Синергия с GABA и L-теанином (sleep stack)',
    ],
    testMarker: 'Магний сыворотки',
    targetLevel: '0.66-1.07 ммоль/л',
    idealTimeFrom: '21:00',
    idealTimeTo: '22:30',
    idealNote: 'За 30 мин до сна',
  },
  {
    id: 'sup_gaba',
    name: 'GABA (γ-аминомасляная к-та)',
    dose: '500–750 мг',
    timing: '22:00 перед сном',
    slot: 'bedtime',
    priority: 2,
    category: 'aminoacid',
    reason:
      'Главный тормозной нейромедиатор. Снижает тревожность, улучшает засыпание. В период восстановления сон — главный анаболический процесс (пик GH в фазе медленного сна).',
    roleDetailed:
      'GABA стимулирует периферические ГАМК-рецепторы → вагальный рефлекс → системное успокоение. Pharma GABA (ферментированная форма) лучше обычного синтетического GABA. Синергия с L-теанином и магнием формирует мощный sleep stack.',
    form: 'Pharma GABA (натуральная ферментированная форма — лучше биодоступность)',
    note: 'Не совмещать с алкоголем или седативными препаратами.',
    interactions: [
      'Синергия с L-теанином и магнием (sleep stack)',
      'НЕ совмещать с алкоголем или снотворными',
    ],
    idealTimeFrom: '21:30',
    idealTimeTo: '22:30',
    idealNote: 'За 30 мин до сна',
  },
  {
    id: 'sup_ltheanine',
    name: 'L-Теанин',
    dose: '200 мг',
    timing: '22:00 перед сном',
    slot: 'bedtime',
    priority: 2,
    category: 'aminoacid',
    reason:
      'Аминокислота из зелёного чая — индуцирует альфа-волны мозга. Улучшает качество сна без седации. Снижает тревогу.',
    roleDetailed:
      'L-теанин повышает GABA, серотонин и дофамин. Улучшает соотношение альфа/бета волн. В сочетании с GABA — суперсинергия для глубокого сна. Безопасен, не вызывает зависимости.',
    form: 'L-Теанин Suntheanine (патентованная клинически изученная форма)',
    interactions: [
      'Синергия с GABA и магнием (sleep stack)',
    ],
    idealTimeFrom: '21:30',
    idealTimeTo: '22:30',
    idealNote: 'За 30 мин до сна',
  },
  {
    id: 'sup_ps',
    name: 'Фосфатидилсерин',
    dose: '100–200 мг',
    timing: '22:00 перед сном',
    slot: 'bedtime',
    priority: 2,
    category: 'compound',
    reason:
      'Снижает вечерний кортизол. Высокий кортизол нарушает сон и запускает катаболизм мышц. ФС подавляет стрессовую реакцию HPA-оси.',
    roleDetailed:
      'Фосфолипид клеточных мембран мозга. Клинически доказан в снижении кортизола при физическом стрессе на 20-30%. 100-200 мг вечером — оптимальная стратегия при послеоперационном стрессе. Не путать с дневным приёмом для памяти.',
    form: 'Фосфатидилсерин из подсолнечника (не из сои), 100-200 мг',
    note: 'Именно вечерний приём снижает кортизол.',
    interactions: [
      'Вечером для снижения кортизола',
      'Синергия с Родиолой как дневным адаптогеном',
    ],
    idealTimeFrom: '21:30',
    idealTimeTo: '22:30',
    idealNote: 'За 30 мин до сна',
  },
  {
    id: 'sup_bcaa',
    name: 'BCAA / Beef Aminos',
    dose: '5–10 г',
    timing: '22:00 перед сном',
    slot: 'bedtime',
    priority: 2,
    category: 'protein',
    reason:
      'Снабжает мышцы незаменимыми аминокислотами в период ночной репарации. Лейцин активирует mTOR — главный стимулятор синтеза мышечного белка.',
    roleDetailed:
      'BCAA 2:1:1 (лейцин:изолейцин:валин). Beef Aminos — цельный аминокислотный профиль говяжьего протеина. Лейцин напрямую активирует mTOR. Ночной приём 5-10 г минимизирует атрофию при ограниченном ROM. Предотвращает ночной катаболизм.',
    form: 'BCAA 2:1:1 или Beef Aminos (гидролизат говяжьего протеина) — без сахара',
    note: 'Принимать за 30-45 мин до сна. Не смешивать с коллагеном (тот — утром натощак).',
    interactions: [
      'Ночной приём для активации mTOR',
      'НЕ совмещать с коллагеном в одном приёме (конкуренция за транспортёры)',
    ],
    idealTimeFrom: '21:15',
    idealTimeTo: '22:00',
    idealNote: 'За 30–45 мин до сна',
  },
]

export type SupplementSlot = Supplement['slot']

export const slotSchedule: Record<SupplementSlot, string> = {
  fasting: '06:30',
  breakfast: '07:30',
  lunch: '13:00',
  dinner: '19:00',
  bedtime: '22:00',
}

export const slotLabels: Record<SupplementSlot, string> = {
  fasting: 'Натощак',
  breakfast: 'Завтрак',
  lunch: 'Обед',
  dinner: 'Ужин',
  bedtime: 'Перед сном',
}

export function getSupplementsBySlot(slot: SupplementSlot): Supplement[] {
  return supplements.filter((s) => s.slot === slot)
}

export function getSupplementsByPriority(priority: 1 | 2 | 3): Supplement[] {
  return supplements.filter((s) => s.priority === priority)
}
